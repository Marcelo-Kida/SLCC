using System;
using System.Collections.Generic;
using System.Text;
using System.Collections;
using System.Threading;
using System.Globalization;
using A8NET.Mensagem;
using System.ComponentModel;
using System.Xml;
using A8NET.GerenciadorFila;
using A8NET.Comum;
using A8NET.Mensagem.Operacao;


namespace A8NET.Teste
{
    public class ClassTeste
    {
        static void Main(string[] args)
        {
            #region >>> Setar a Cultura >>>
            Thread.CurrentThread.CurrentCulture = new CultureInfo("pt-BR");
            Thread.CurrentThread.CurrentUICulture = new CultureInfo("pt-BR");
            #endregion

            A8NET.GerenciadorFila.GerenciadorRecebimento msg = new GerenciadorRecebimento();
            msg.ProcessaMensagemMQ("A8Q.E.ENTRADA_NET", "1");
            Console.ReadLine();

            //XmlDocument testeXML = new XmlDocument();
            //testeXML.LoadXml("<xml>teste</xml>");
            //A8NET.Mensagem.GestaoCaixa testePJ = new A8NET.Mensagem.GestaoCaixa();
            //testePJ.EnviarPrevisaoItemCaixa(testeXML, null, false);
            //testePJ.EnviarMaioresValores(testeXML, A8NET.Comum.Comum.EnumTipoMovimentoPJ.Realizado, null);
            //testePJ.EnviarMoedaEstrangeira(testeXML, A8NET.Comum.Comum.EnumTipoMovimentoPJ.Realizado);


            /*
            XmlDocument aa = new XmlDocument();
            aa.LoadXml(@"<MESG>
  <TP_MESG>000001000</TP_MESG>
  <SG_SIST_ORIG>NZ</SG_SIST_ORIG>
  <SG_SIST_DEST>A8</SG_SIST_DEST>
  <CO_EMPR>558</CO_EMPR>
  <TX_MESG>PK CAM0021R120110314PK
  20388384220110208005580079026077766160777661 0000000000023808127
  PK
  NZ883842000000000000000000001607776612011020822268010000CBL20110208214287387
  00000000000000
  <SISMSG>
   <CAM0021R1>
	<CodMsg>CAM0021R1</CodMsg>
	<NumCtrlIF>20110311A8 201407662</NumCtrlIF>
	<CNPJBaseIF>900400888</CNPJBaseIF>
	<RegOpCaml>123</RegOpCaml>
	<NumSeqEvtCAMContr>123</NumSeqEvtCAMContr>
	<NumSeqEvtCAMLiquid>123</NumSeqEvtCAMLiquid>
	<CodMoedaISOPos>123</CodMoedaISOPos>
	<VlrPosMoeda>987</VlrPosMoeda>
	<TpPosComprd_Vendd>1</TpPosComprd_Vendd>
	<DtHrBC>20110311194657</DtHrBC>
	<DtMovto>20110311</DtMovto>
  </CAM0021R1>
  </SISMSG>
  </TX_MESG>
</MESG>");*/

            //A8NET.Mensagem.GerenciadorRecebimento msg = new GerenciadorRecebimento();
            //msg.ProcessaMensagemMQ("A8Q.E.ENTRADA_NET", "1");
                        //Operacao aa = new Operacao(A8NET.Data.Dominio.CarregaDominio());
            //aa.ProcessaMensagem("A8Q.E.ENTRADA_NET", "<MESG><TP_MESG>000000168</TP_MESG><SG_SIST_ORIG>GPC</SG_SIST_ORIG><SG_SIST_DEST>A8</SG_SIST_DEST><CO_EMPR>558</CO_EMPR><TP_SOLI>2</TP_SOLI><DT_MESG>20110315</DT_MESG><HO_MESG>1757</HO_MESG><CO_USUA_CADR_OPER>ivan.tab</CO_USUA_CADR_OPER><DT_OPER_ATIV>20110315</DT_OPER_ATIV><CO_VEIC_LEGA>46</CO_VEIC_LEGA><CO_OPER_ATIV>TESTE0000001</CO_OPER_ATIV><CO_CNPJ_BASE_IF>90400888</CO_CNPJ_BASE_IF><CO_CNPJ_IF>90400888000142</CO_CNPJ_IF><CO_CNPJ_CORRT></CO_CNPJ_CORRT><DT_EVEN_CAMB>20110315</DT_EVEN_CAMB><CO_CERT_RDE>1</CO_CERT_RDE><CO_MOED_ISO>BRL</CO_MOED_ISO><VA_MOED_ESTRG>1000,00</VA_MOED_ESTRG><VA_TAXA_CAMB>1,50</VA_TAXA_CAMB><VA_MOED_NACIO>1500,00</VA_MOED_NACIO><TP_OPER_CAMB>1</TP_OPER_CAMB><GR_CLI_CAD_RFB><TP_PESSO_CLIE>J</TP_PESSO_CLIE><CNPJ_CPF_CLI>90400888000142</CNPJ_CPF_CLI></GR_CLI_CAD_RFB><GR_CLI_CAD_RFB><TP_PESSO_CLIE>J</TP_PESSO_CLIE><CNPJ_CPF_CLI>90400888000143</CNPJ_CPF_CLI></GR_CLI_CAD_RFB><GR_CLI_CAD_RFB><TP_PESSO_CLIE>J</TP_PESSO_CLIE><CNPJ_CPF_CLI>90400888000144</CNPJ_CPF_CLI></GR_CLI_CAD_RFB><GR_CLI_SEM_CAD_RFB><IN_PESSO_CLIE>J</IN_PESSO_CLIE><NM_CLIE>TESTE1</NM_CLIE></GR_CLI_SEM_CAD_RFB><GR_CLI_SEM_CAD_RFB><IN_PESSO_CLIE>J</IN_PESSO_CLIE><NM_CLIE>TESTE2</NM_CLIE></GR_CLI_SEM_CAD_RFB><GR_CLI_SEM_CAD_RFB><IN_PESSO_CLIE>J</IN_PESSO_CLIE><NM_CLIE>TESTE3</NM_CLIE></GR_CLI_SEM_CAD_RFB><VA_PERC_ACC>123,12</VA_PERC_ACC><CO_FATO_NATU>LK123</CO_FATO_NATU><CO_CLIE_NATU>LK</CO_CLIE_NATU><IN_AVAL_NATU>S</IN_AVAL_NATU><CO_PAGA_RECB_EXTE>12</CO_PAGA_RECB_EXTE><CO_GRUP_NATU>1</CO_GRUP_NATU><CO_FORM_ENTR_MOED>EM</CO_FORM_ENTR_MOED><DT_LIMI_LIQUI>20110315</DT_LIMI_LIQUI><IN_CAMB_SimPL>1</IN_CAMB_SimPL><GR_PAGA_RECB_EXTE><CO_PAIS_PAGA_RECEB_EXTE>55</CO_PAIS_PAGA_RECEB_EXTE><NM_PAGA_RECB_EXTE>TESTE123</NM_PAGA_RECB_EXTE><IN_RELA_VINC>1</IN_RELA_VINC></GR_PAGA_RECB_EXTE><TX_OUTR_ESPC>TESTETESTETESTE</TX_OUTR_ESPC><GR_COD_CLAU_ESPC_IF><CO_CLAUS_ESPC_IF>123123</CO_CLAUS_ESPC_IF></GR_COD_CLAU_ESPC_IF><GR_COD_CLAU_ESPC_IF><CO_CLAUS_ESPC_IF>123124</CO_CLAUS_ESPC_IF></GR_COD_CLAU_ESPC_IF><GR_COD_CLAU_ESPC_IF><CO_CLAUS_ESPC_IF>123125</CO_CLAUS_ESPC_IF></GR_COD_CLAU_ESPC_IF><CO_FORM_ENTR_MOED_NACIO>B</CO_FORM_ENTR_MOED_NACIO><DT_ENTR_MOED_NACIO>20110315</DT_ENTR_MOED_NACIO><CO_ISPB_IF_PAGA>90400888</CO_ISPB_IF_PAGA><CO_AGEN_IF_PAIS_PAGTO>1</CO_AGEN_IF_PAIS_PAGTO><CO_CONTA_IF_PAIS_PAGTO>10980928</CO_CONTA_IF_PAIS_PAGTO><CO_SWIFT_IF_BENE>123123</CO_SWIFT_IF_BENE><CO_ABA_IF_BENE>TESTE1</CO_ABA_IF_BENE><CO_CHIPS_IF_BENE>TESTE2</CO_CHIPS_IF_BENE><NO_IF_BENE>TESTE3</NO_IF_BENE><CO_CONTA_BENE>TESTE4</CO_CONTA_BENE><CO_SWIFT_INTER>TESTE5</CO_SWIFT_INTER><CO_ABA_INTER>TESTE6</CO_ABA_INTER><CO_CHIPS_INTER>TESTE7</CO_CHIPS_INTER><NM_INTER>TESTE8</NM_INTER><CO_CONTA_IF_BENE_INTER>TESTE9</CO_CONTA_IF_BENE_INTER><DT_MOVI>20110315</DT_MOVI></MESG>");
            
            // mensagem bruni
            //aa.ProcessaMensagem("A8Q.E.ENTRADA_NET", @"<MESG><TP_MESG>000001000</TP_MESG><SG_SIST_ORIG>NZ</SG_SIST_ORIG><SG_SIST_DEST>A8</SG_SIST_DEST><CO_EMPR>558</CO_EMPR><TX_MESG>PK CAM0021R120110314PK  20388384220110208005580079026077766160777661 0000000000023808127  PK  NZ883842000000000000000000001607776612011020822268010000CBL20110208214287387  00000000000000  <SISMSG><CAM0021R1><CodMsg>CAM0021R1</CodMsg><NumCtrlIF>20110311A8 201407662</NumCtrlIF><CNPJBaseIF>900400888</CNPJBaseIF><RegOpCaml>123</RegOpCaml><NumSeqEvtCAMContr>123</NumSeqEvtCAMContr><NumSeqEvtCAMLiquid>123</NumSeqEvtCAMLiquid><CodMoedaISOPos>123</CodMoedaISOPos><VlrPosMoeda>987</VlrPosMoeda><TpPosComprd_Vendd>1</TpPosComprd_Vendd><DtHrBC>20110311194657</DtHrBC><DtMovto>20110311</DtMovto></CAM0021R1></SISMSG></TX_MESG></MESG>");
            //Mensagem.SPB.MensagemSPB aa = new A8NET.Mensagem.SPB.MensagemSPB(A8NET.Data.Dominio.CarregaDominio());

            //o/bject a = A8NET.Data.Dominio.DataSetCache.TB_SITU_SPB_SITU_PROC.DefaultView.ToTable(true, new string[] { "NO_TAG", "SG_GRUP_MESG_SPB" }).Select("SG_GRUP_MESG_SPB='BMA'");

            ///aa.ProcessaMensagem("aaa", "<MESG><TP_MESG>000001000</TP_MESG><SG_SIST_ORIG>NZ</SG_SIST_ORIG><SG_SIST_DEST>A8</SG_SIST_DEST><CO_EMPR>558</CO_EMPR><TX_MESG>A8 SEL1052R120110302A8 20409926420100820005580079029040088800038121CON12345                          A8 A8558188000000000000000000001904008882010082004124060000000000000000000000000000000000000000000 <SISMSG><SEL1052R1><CodMsg>SEL1052R1</CodMsg><NumCtrlIF>20110302A8 204099253</NumCtrlIF><ISPBIF>90400888</ISPBIF><NumOpSEL>12345</NumOpSEL><SitOpSEL>CON</SitOpSEL><DtHrSit>20100820122843</DtHrSit><DtMovto>20100820</DtMovto></SEL1052R1></SISMSG></TX_MESG></MESG>");



            //node.AppendChild(ee);
            //aa.AppendChild(node);
            Console.ReadLine();


        }
    }
}
